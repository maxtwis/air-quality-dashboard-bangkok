# Changelog

## [6.0.0] - 2025-01-15

### Added
- **Three New Context Templates**: Enhanced `initialize_agent_workspace` tool with comprehensive templates
  - **DESIGN-SYSTEM.md**: Captures design tokens, component inventory, and visual patterns
    - Color palette with semantic colors
    - Typography system with font scales
    - Spacing system and breakpoints
    - Component constraints and responsive behavior
    - Figma-to-code mapping guidelines
  - **PRODUCT-REQUIREMENTS.md**: Documents user stories, NFRs, and business logic
    - User story templates with acceptance criteria
    - Performance, accessibility, and security requirements
    - Business rules and validation logic
    - Success metrics and KPIs
    - External integrations documentation
  - **ORG-CONTEXT.md**: Maintains domain language and organizational conventions
    - Domain glossary with business terms
    - Naming conventions for code and git
    - Organization standards and processes
    - Compliance and security policies
    - Team structure and communication channels

### Enhanced
- **Analysis Instructions**: Updated to include design system extraction, product context, and organizational patterns
- **Update Instructions**: Extended to cover all new template placeholders
- **Context Completeness**: Now validates 10 template files instead of 7

### Improved
- Better alignment with the 15-step AI development blueprint
- More comprehensive context capture for AI agents
- Enhanced support for design-to-code workflows
- Stronger organizational knowledge preservation

## [5.0.0] - 2025-01-15

### BREAKING CHANGES
- **Production Mode is Now Default**: The `figma_to_code` tool now defaults to `useProductionMode: true`
  - This provides the streamlined 10/10 quality instruction instead of the phased approach
  - To use the legacy phased approach, explicitly set `useProductionMode: false`

### Added
- **Production-Ready AI Agent Instruction**: Single, atomic operation for 10/10 quality
  - Core objective: Convert Figma to production-ready React/TypeScript with zero manual fixes
  - Complete transformation rules for layout, responsive, accessibility, and state management
  - Non-negotiable quality standards with automated validation
  - Success criteria: >95% visual fidelity, WCAG 2.1 AA, <100kb bundle, TypeScript strict
  - Time target: 5 minutes total execution

### Enhanced
- **figma_to_code** tool now supports two modes:
  - Production Mode (default): Streamlined instruction for immediate execution
  - Legacy Mode: Multi-phase approach with detailed orchestration
  - Switch modes with `useProductionMode` parameter

### Improved
- Simplified workflow for production use cases
- Clear quality gates and success metrics
- Comprehensive component template with all best practices
- Automated validation requirements

### Technical
- Added `generateProductionReadyInstruction()` function
- New `useProductionMode` parameter (default: true)
- Maintains backward compatibility with phased approach

## [4.7.0] - 2025-01-14

### Added
- **Key Transformations Guide**: Comprehensive guide for converting Figma MCP responses to production code
  - 8 transformation categories with detailed instructions
  - Real-world before/after examples from actual conversions
  - 10-step transformation process summary
  - Specific code examples for each transformation type

### Enhanced
- **figma_to_code** workflow now includes:
  - Phase 2.3: Key Transformations Guide with exact transformation requirements
  - Layout system conversion instructions (absolute → flexbox)
  - Typography adjustment guidelines with fallback patterns
  - Spacing implementation strategies
  - Background enhancement techniques
  - Responsive design patterns
  - Animation system integration
  - Structural simplification methods
  - Positioning refinement approaches

### Improved
- More actionable guidance for AI agents with concrete examples
- Better clarity on what changes from Figma MCP to production
- Specific transformation checklist for validation
- Real-world examples showing exact code transformations

## [4.6.0] - 2025-01-14

### Added
- **3D Transform Extraction**: New orchestration phase for extracting and implementing 3D visual effects
  - Transform extraction orchestration with responsive scaling
  - Reusable 3D hooks and utilities
  - GPU-accelerated transform patterns
  - Motion preference support

### Enhanced
- **Production Standards Clarified**:
  - Updated "no-absolute-positioning" to clarify visual effects are allowed
  - Distinguished between layout positioning (bad) vs visual effects positioning (good)
  - Added 16th standard: "responsive-transforms" for 3D effects
  - Included comprehensive 3D hero section example

### Improved
- **figma_to_code** tool now:
  - Preserves visual richness while maintaining production standards
  - Includes Phase 1.5: Transform & Visual Effects Extraction
  - Generates responsive 3D effects with CSS variables
  - Maintains accessibility with reduced motion support
  - Creates designs matching original Figma's visual impact

### Technical
- Added `generateTransformExtractionOrchestration()` function
- Updated critical success rules to allow visual effects
- Enhanced validation checklist for 3D effects
- Added "effects" category to standards categorization

## [4.5.0] - 2025-01-14

### Added
- **Automated Component Tree Processing**: Process entire Figma component hierarchies automatically
  - New `processChildren` parameter (default: true) - no more manual selection of each component
  - Tree traversal strategies: depth-first (default) or breadth-first
  - Component filtering by type, depth, and pattern matching
  - Progress tracking with checkpoint saves for resilient processing
  - Component relationship mapping and dependency tracking
  - Change detection for incremental updates
  - Version tracking for component history

### Enhanced
- **figma_to_code** tool now includes:
  - Phase 0.5: Component Tree Processing - discovers and processes all components
  - Phase 0.6: Component Mapping & Tracking - maintains relationships and enables updates
  - Batch processing with API rate limiting
  - Organized output structure with component hierarchy
  - Consolidated design token extraction across all components
  - Component inventory with statistics and relationships

### Improved
- Processing time reduced from hours to minutes for complex component hierarchies
- Single root selection processes entire design systems
- Resume capability on failures with checkpoint system
- Intelligent dependency resolution for correct update order

### Technical
- Added tree processing orchestration instructions
- Component mapping system with change detection
- Enhanced workflow to support both single and tree processing modes

## [4.4.0] - 2025-01-14

### Added
- **Comprehensive Production Code Standards**: 15 production-ready standards for Figma conversions
  - CSS Variables for all values (no hardcoded values)
  - Layout-based sizing with min/max constraints
  - Modern layout techniques (Grid/Flexbox, no absolute positioning)
  - Standardized z-index scale and animation system
  - Touch target requirements (44px minimum)
  - Semantic form patterns with accessibility
  - Component composition architecture
  - Complete state management (loading, error, empty, success)
  - Focus management with keyboard navigation
  - Dark mode support via CSS variables
  - Image optimization requirements
  - Smooth scroll behavior with a11y support
  - Self-contained component boundaries
  - Performance optimization patterns

### Enhanced
- **figma_to_code** tool now includes:
  - New Phase 2.5: Production Code Standards with detailed implementation guide
  - Complete conversion example showing Figma MCP input vs production output
  - Updated critical success rules enforcing all 15 standards
  - Validation checklist for production readiness
  - Real-world code examples for each standard

### Improved
- Orchestration now ensures production-ready code meeting highest standards
- Added `figma-production-standards.ts` module with reusable standards
- Integration of standards throughout the conversion workflow
- More comprehensive success criteria including standards verification

## [4.3.0] - 2025-01-14

### Added
- **Enhanced figma_to_code Orchestration**: Complete rewrite with systematic workflows
  - New extraction orchestration phase with exact value parsing strategies
  - Visual validation orchestration with pixel-diffing methodology
  - Knowledge persistence orchestration for reusable patterns
  - Template-based approach for AI agent guidance
  - Structured extraction workflows for shadows, gradients, spacing, and typography

### Enhanced
- **figma_to_code** tool now provides:
  - 5-phase orchestration workflow (Initial MCP → Extraction → Implementation → Validation → Persistence)
  - Fillable templates for systematic documentation
  - Specific parsing strategies for exact value extraction
  - Visual validation workflow with < 5% difference target
  - Design token extraction and documentation
  - Quick reference guides for future conversions
  - Maintains all Post-MCP guide insights from v4.2.0

### Improved
- Orchestration instructions now guide AI agents through measurable, verifiable steps
- Added success metrics and phase completion criteria
- Enhanced with real-world extraction patterns and common issue fixes

### Technical
- Added `src/tools/instructions/figma-orchestration-instructions.ts` module
- Refactored figma_to_code handler to use generated orchestration workflow
- Maintained pure orchestration principle throughout

## [4.2.1] - 2025-01-14

### Fixed
- Updated README.md to properly list all 7 tools including `figma_to_code`
- Removed outdated v5 feature references from documentation
- Corrected tool descriptions to reflect pure orchestration approach

## [4.2.0] - 2025-01-14

### Changed
- **BREAKING**: Removed all V5 implementation features (vector stores, knowledge graphs, enhanced tools)
- Returned to pure orchestration principle: "Orchestrate, Don't Execute"
- Removed dependencies: chromadb, openai, p-queue, uuid
- Simplified architecture by removing core infrastructure directories

### Enhanced
- **figma_to_code**: Now includes comprehensive Post-MCP Implementation Guide
  - Critical mindset principles for pixel-perfect implementations
  - Common MCP response issues and fixes
  - Quality checklists for design fidelity verification
  - Production-ready enhancement guidelines
  - Framework-specific instructions (React, Vue, Angular)

### Fixed
- All 7 tools now properly appear in Claude Desktop after restart

### Tools Available
1. `initialize_agent_workspace` - Create agent-context folder with templates
2. `check_before_suggesting` - Verify imports and patterns exist
3. `validate_generated_code` - Validate against project patterns
4. `get_pattern_for_task` - Get appropriate pattern templates
5. `track_agent_performance` - Track AI agent metrics
6. `validate_context_completeness` - Ensure 100% template completion
7. `figma_to_code` - Convert Figma designs to code with Post-MCP methodology

## [4.1.0] - Previous Release
- Previous version with V5 features