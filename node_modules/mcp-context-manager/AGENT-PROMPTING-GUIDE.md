# AI Agent Prompting Guide for MCP Context Manager

## üöÄ NEW: Simplified with Orchestration Tool!

**Version 2.7.0 introduces the `orchestrate_ai_development` tool that replaces complex prompting!**

### Simple One-Line Prompt:
```
Use the orchestrate_ai_development tool to implement [YOUR TASK DESCRIPTION].
```

That's it! The tool handles everything else automatically.

## üéØ Using the Orchestration Tool

### For New Features:
```
Use orchestrate_ai_development with:
- taskType: "new_feature"
- taskDescription: "Add user authentication with email/password"
```

### For Bug Fixes:
```
Use orchestrate_ai_development with:
- taskType: "bug_fix"
- taskDescription: "Fix login button not responding on mobile"
- targetFiles: ["src/components/LoginForm.tsx"]
```

### For Initialization:
```
Use orchestrate_ai_development with:
- taskType: "initialization"
- taskDescription: "Set up AI development environment for this React project"
```

The tool will:
‚úÖ Check if codebase analysis is needed
‚úÖ Force analysis if missing
‚úÖ Ensure templates are updated
‚úÖ Guide through the correct workflow
‚úÖ Validate everything automatically

---

## üìñ Manual Approach (if needed)

If you prefer manual control or the orchestration tool isn't available, use these prompts:

```
I want to set up AI-assisted development for my project at [PROJECT_PATH].

Please use the MCP Context Manager tool `initialize_agent_workspace` to create the agent-context folder with all necessary files.

After initialization:
1. Analyze my ENTIRE codebase comprehensively
2. Update ALL files in the agent-context/ folder with actual project information
3. Replace ALL placeholder content with real data from my project
4. Document the actual patterns, conventions, and architecture you discover

Do NOT proceed with any other tasks until you have completed the codebase analysis and updated all the agent-context files.
```

## üìã Key Prompting Patterns

### 1. Force Comprehensive Analysis
```
Before we start coding, please:
- Read ALL source files in my project (src/, app/, components/, pages/, etc.)
- Check package.json to understand dependencies
- Review all configuration files (tsconfig.json, vite.config.js, etc.)
- Examine existing code to identify patterns
- Update the agent-context/CODEBASE-CONTEXT.md file with everything you found
```

### 2. Prevent Hallucinations
```
Before suggesting any code:
- Use the `check_before_suggesting` tool to verify all imports and methods
- Only use dependencies that exist in package.json
- Follow the exact patterns documented in CODEBASE-CONTEXT.md
- If unsure about a pattern, use `detect_existing_patterns` tool first
```

### 3. Enforce Pattern Compliance
```
When implementing [FEATURE_NAME]:
- First use `get_pattern_for_task` to get the correct pattern
- Follow the conventions in CODEBASE-CONTEXT.md exactly
- Use `validate_generated_code` before finalizing any code
- Ensure consistency with existing codebase patterns
```

## üõ†Ô∏è MCP Tool Usage Examples

### Initialize Workspace
```
Initialize the AI agent workspace for my React TypeScript project at /path/to/project. 
The project is called "MyApp".

After creating the files, analyze the entire codebase and update all documentation files with actual project information.
```

### Pattern Detection
```
Before we add a new component, analyze the existing component patterns in my codebase.
Use the pattern detection tool on the src/components directory and tell me what conventions are already in use.
```

### Code Validation
```
I've written this component [CODE]. 
Please validate it using the MCP tools to ensure it follows our project patterns and doesn't have security issues.
```

### Performance Tracking
```
Track the implementation of the user authentication feature.
Note how many tokens were used, time taken, and any issues encountered.
```

## üìù Complete Workflow Example

Here's a full example of how to prompt the agent for a new feature:

```
I need to add a user profile component to my application.

Step 1: First, analyze my codebase if you haven't already:
- Use `detect_existing_patterns` on src/components
- Read the CODEBASE-CONTEXT.md file
- Check what UI library and patterns we're using

Step 2: Get the correct pattern:
- Use `get_pattern_for_task` for a component task
- Consider we need state management and API calls

Step 3: Before writing code:
- Use `check_before_suggesting` to verify all imports you plan to use
- Ensure all dependencies exist in package.json

Step 4: Implement the component:
- Follow the exact patterns from our codebase
- Use our naming conventions
- Match our file structure

Step 5: Validate the code:
- Use `validate_generated_code` on your implementation
- Check for security issues with `check_security_compliance`

Step 6: Generate tests:
- Use `generate_tests_for_coverage` to create comprehensive tests
- Ensure 80%+ coverage

Do not skip any of these steps. Show me the results from each tool before proceeding.
```

## üö´ Common Mistakes to Avoid

### ‚ùå DON'T: Jump straight to coding
```
"Create a navbar component"
```

### ‚úÖ DO: Ensure analysis first
```
"Analyze my codebase patterns, then create a navbar component following those exact patterns"
```

### ‚ùå DON'T: Assume dependencies
```
"Add Redux to manage state"
```

### ‚úÖ DO: Check what exists
```
"Check what state management solution we're using (check package.json), then implement state management using that approach"
```

### ‚ùå DON'T: Skip validation
```
"Here's my code, looks good!"
```

### ‚úÖ DO: Validate everything
```
"Validate this code using the MCP tools for patterns, security, and best practices"
```

## üîÑ Continuous Monitoring

For ongoing development, periodically prompt:

```
Please:
1. Use `watch_codebase_changes` to monitor for any updates
2. Use `check_pattern_drift` to ensure we're staying consistent
3. Update the agent-context files if you find new patterns
4. Use `get_relevant_context` when starting new tasks
```

## üí° Pro Tips

1. **Be Explicit**: Always tell the agent to use specific MCP tools
2. **Enforce Order**: Analysis ‚Üí Pattern Detection ‚Üí Implementation ‚Üí Validation
3. **Require Proof**: Ask to see tool outputs before proceeding
4. **Update Documentation**: Remind the agent to keep agent-context files current
5. **Track Performance**: Use performance tracking for complex features

## üéØ Quick Reference

| Task | MCP Tool | When to Use |
|------|----------|-------------|
| Project setup | `initialize_agent_workspace` | First time only |
| Find patterns | `detect_existing_patterns` | Before coding |
| Verify imports | `check_before_suggesting` | Before using any library |
| Get pattern | `get_pattern_for_task` | Starting new feature |
| Validate code | `validate_generated_code` | After writing code |
| Security check | `check_security_compliance` | For sensitive features |
| Generate tests | `generate_tests_for_coverage` | After implementation |
| Track metrics | `track_agent_performance` | For each feature |
| Auto-load context | `get_relevant_context` | Starting new task |
| Monitor changes | `watch_codebase_changes` | During development |
| Check consistency | `check_pattern_drift` | Periodically |

## üìå Remember

The key to success with MCP Context Manager is to:
1. **Always analyze first** - Never let the agent code without analyzing
2. **Use tools explicitly** - Name the specific tools you want used
3. **Verify everything** - Check tool outputs before proceeding
4. **Maintain documentation** - Keep agent-context files updated
5. **Enforce patterns** - Don't accept code that doesn't match your patterns